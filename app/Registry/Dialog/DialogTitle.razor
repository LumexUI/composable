@namespace LumexUI.Composable.Registry

@using TailwindMerge

<h2 class="@TwMerge.Merge( ClassName, Class )"
    data-slot="dialog-title"
    @attributes="@AdditionalAttributes">
    @ChildContent
</h2>

@code {
    [Parameter] public RenderFragment? ChildContent { get; set; }

    [Parameter] public string? Class { get; set; }

    [Parameter( CaptureUnmatchedValues = true )]
    public IReadOnlyDictionary<string, object>? AdditionalAttributes { get; set; }

    [CascadingParameter] private Dialog Context { get; set; } = default!;

    [Inject] public TwMerge TwMerge { get; set; } = default!;

    protected override void OnInitialized()
    {
        if( Context is null )
        {
            throw new InvalidOperationException(
                $"<{nameof( DialogTitle )} /> must be used within a <{nameof( Dialog )} /> component."
            );
        }
    }

    /*
     * ----------------------------------------------------------------------------------
     * Styles
     * ----------------------------------------------------------------------------------
     */

    private string? ClassName => new ElementClass( "text-base leading-none font-medium" );
}
